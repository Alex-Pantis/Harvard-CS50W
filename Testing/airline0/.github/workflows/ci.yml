# The name of the workflow
# This is what you see in the GitHub Actions tab
name: Testing

# When should GitHub run this workflow?
# - Every time you push code
# - Every time you open or update a pull request
# This is best practice — catches problems early
on: [push, pull_request]

# The main part — define the jobs (tasks) GitHub will do
jobs:
  # Name of the job — we call it "test" (simple and clear)
  test:
    # Run this job on a fresh Ubuntu Linux machine (free from GitHub)
    runs-on: ubuntu-latest

    # List of steps — GitHub does these one by one
    steps:
      # Step 1: Download (checkout) your code from GitHub
      - uses: actions/checkout@v4
        # "uses" means use a pre-made action
        # actions/checkout@v4 = latest version of the official tool
        # It copies your entire repository to the machine

      # Step 2: Set up the correct Python version
      - uses: actions/setup-python@v4
        # Official action to install Python
        with:
          python-version: '3.11'  # Use Python 3.11 (change to '3.12' if you use that)
        # This guarantees the right Python version — very important!

      # Step 3: Install required packages
      - name: Install dependencies
        # "name" = shows in logs — helps you see what step is running
        run: |
          # | means multiple lines
          # Upgrade pip first — good practice
          python -m pip install --upgrade pip
          # Install Django
          pip install django
          # If you have other packages (like in requirements.txt), add:
          # pip install -r requirements.txt

      # Step 4: Run your Django tests
      - name: Run tests
        run: |
          # Run all tests in your project
          # --verbosity=2 = show detailed output (each test name)
          python manage.py test --verbosity=2
        # If tests pass → green checkmark
        # If any fail → red X and error details